{% extends 'base.html' %}
{% load static %}

{% block title %}Profile{% endblock %}

{% block content %}
{% if user.is_authenticated %}
    {% ifequal disk.id_user|stringformat:"s" user.get_username %}
<div class="d-flex fixed-top" style="margin-top: 56px;">
    <div class="d-flex flex-column p-3 text-white  bg-dark" style="width: 280px; height: 100vh;">

        <p class="fs-4 d-flex  align-items-center mx-3 mb-md-0 me-md-auto text-white text-decoration-none">
       Disk {{disk.id}}
    </p>

        <hr>
<ul class="nav nav-pills flex-column mb-auto">
    <br>
      <li class="nav-item">
<!--          <svg class="bi me-2" width="40" height="32"></svg>-->
            <a href="{% url 'addCatalogNadrzedny' %}{{disk.id}}/{{catalog.id}}" class="nav-link active">
            <img src="{% static 'foto/add2.png'%}" width="25" height="25">  New catalog</a>
      </li>
    <br>
    <li class="nav-item">
<!--        <svg class="bi me-2" width="40" height="32"></svg>-->
        <a href="{% url 'upload' %}" class="nav-link active">
            <img src="{% static 'foto/upload2.png'%}" width="25" height="25">   Upload file</a>
    </li>
</ul>
</div>
   <div class="w-100" style="margin-left: 20px; margin-right: 20px;">
       <br>
       <h5><a href="{% url 'profile' %}" style="text-decoration: none; color: black;"> Profile </a>
            ||  <a href="{% url 'disk' %}{{disk.id}}" style="text-decoration: none; color: black;"> Disk {{disk.id}} </a>
       {% if catalog.nazwa != "root" %}
<!--           {% if request.get_full_path != "/disk/66/" %}-->
<!--           {% endif %}-->
            ||  <a href="{% url 'catalog' %}{{disk.id}}/{{catalog.id}}" style="text-decoration: none; color: black;"> Catalog {{catalog.id}}</a>
            {% endif %}

</h5>
        <br>
        <table class="w-100" cellspacing='0' cellpadding='5' border-spacing='5' style="margin:0;padding:0;border: 1px solid black;">
            <tr style="border: 1px solid black;">
                <th style="border: 1px solid black;text-align:center;">Name</th>
                <th style="border: 1px solid black;text-align:center;">Delete</th>
                <th style="border: 1px solid black;text-align:center;">Download</th>
            </tr>
            {% for sub_catalog in sub_catalogs %}
            <tr style="border: 1px solid black;">
            <th style="border: 1px solid black;"><a href="{% url 'catalog' %}{{disk.id}}/{{sub_catalog.id}}">
                <img src="{% static 'foto/folder2.png'%}" width="25" height="25">
                {{sub_catalog.nazwa}}
            </a></th>
            <th style="border: 1px solid black;text-align:center;"><a href="{% url 'deleteCatalog' %}{{sub_catalog.id}}">
                <img src="{% static 'foto/delete2.png'%}" width="25" height="25">
            </a></th>
            <th style="border: 1px solid black;"> </th>
            </tr>
            {% endfor %}


        {% for file in files %}
            <tr style="border: 1px solid black;">
                <th style="border: 1px solid black;"> <img src="{% static 'foto/file2.png'%}" width="25" height="25"> {{file.name}}.{{file.typ_pliku}}</th>
                <th style="border: 1px solid black;text-align:center;"> <a href="{% url 'deleteFile' %}{{file.id}}">
                <img src="{% static 'foto/delete2.png'%}" width="25" height="25">
            </a> </th>
                <th style="border: 1px solid black;text-align:center;"><img src="{% static 'foto/download2.png'%}" width="25" height="25"></th>
            </tr>
        {% endfor %}
        </table></div>
    </div>
    {% else %}
    <h4>ACCESS DENIED</h4>
    {% endifequal %}
{% else %}
      <h4>You are not logged in</h4>
{% endif %}
{% endblock %}